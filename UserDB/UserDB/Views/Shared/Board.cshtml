@model UserDB.Models.Board

@{
    ViewBag.Title = "Board";
    UserDB.Models.Board b = new UserDB.Models.Board(); //instantiate board - eventually add parameter to determine load board or start new
    {
        <html>

        <head>
            <title>Game</title>
            <script src="~/scripts/TileMappings.js" type="text/javascript"></script>
            <script src="~/scripts/jquery-1.9.1.js" type="text/javascript"></script>
            <script type="text/javascript">
                function submitWord() {
                    //Pull IDS of letters to transmit as "word"
                    var fullWord = "dog";

                    $.ajax({
                        type: "GET",
                        url: "/Board/checkWord",
                        data: { word: "d" },
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (data) {
                            $('.processedWord').html(data);
                            window.alert("Success");
                        },
                        error: function (data) {
                            $('.processedWord').html(data);
                            window.alert("Failure");
                        }
                    });
                }
            </script>
        </head>
        <body>
            <link href="~/Content/pop_up_style.css" rel="stylesheet" type="text/css" />
            <script type="text/javascript" src="~/scripts/popup.js"></script>

            <div id="blanket" style="display:none;"></div>
            <div id="popUpDiv" style="display:none;"></div>

            <script>
                setInterval(function () {
                    window.location.href = "http://localhost:60776/";
                }, 65000);
                setInterval(function ()
                {
                    popup('popUpDiv');
                }, 60000);

            </script>
            <link href="~/Content/Board.css" rel="stylesheet" type="text/css" />
            <h1>You Have One Minute!</h1>
            <div id="boardDiv">
                <table>
                    @for (int i = 1; i < 8; i++)
                    {
                        <tr>
                            @for (int j = 1; j < 8; j++)
                            {
                                <td>
                                    @{
                                string id = i.ToString() + "." + j.ToString();
                                    }
                                    <img id=@(id) data-owner="EMPTY" data-letter=@(b.tArray[i-1, j-1].getValue()) class="img-responsive" src="@(b.tArray[i-1, j-1].getLink())" onclick="clicked(@(id))" />
                                </td>
                            }
                        </tr>
                    }
                </table>
                <button type="button" onclick="submitWord()">Submit Word</button>
            </div>
        </body>
    </html>
    }

}
